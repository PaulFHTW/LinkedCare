{"version":3,"sources":["webpack:///./src/components/table/TableElement.vue","webpack:///./src/components/table/TableElement.vue?1a77","webpack:///./src/views/Patients.vue","webpack:///./src/views/Patients.vue?5fa4"],"names":["_createElementBlock","class","_normalizeClass","$data","tableContent","settings","tableClasses","_createElementVNode","_Fragment","_renderList","tableColumns","column","key","field","scope","align","colSize","name","loaded","_hoisted_1","result","row","id","element","index","JSON","stringify","color","weight","$options","isLink","href","hrefPrefix","hrefSuffix","title","titlePrefix","titleSuffix","textPrefix","_toDisplayString","text","textSuffix","_hoisted_2","props","fetchLink","type","String","required","Object","data","fetchedData","this","methods","getList","thisComponent","fetch","then","response","json","entry","titleValue","hrefValue","textValue","titlePath","getInObject","hrefPath","textPath","link","push","path","catch","error","console","obj","def","stringToPath","startsWith","substring","output","split","forEach","item","length","current","i","beforeMount","log","mounted","__exports__","render","_createVNode","_component_Table","components","Table","setup"],"mappings":"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","file":"js/chunk-1629ca55.b1534535.js","sourcesContent":["<template>\n<table class=\"table\" v-bind:class=\"tableContent.settings.tableClasses\">\n    <thead>\n        <tr>\n            <th v-for=\"column in tableContent.settings.tableColumns\" :key=\"column.field\" scope=\"col\" v-bind:class=\"[column.align, column.colSize]\">{{column.name}}</th>\n        </tr>\n    </thead>\n        <tbody v-if=\"tableContent.loaded\">\n            <tr v-for=\"row in tableContent.result\" :key=\"row.id\">\n            \n                <template v-for=\"(element,index) in row\" :key=\"JSON.stringify(element)\">\n                    <th v-if=\"index == 0\" scope=\"row\" v-bind:class=\"[tableContent.settings.tableColumns[index].align, tableContent.settings.tableColumns[index].color, tableContent.settings.tableColumns[index].weight, tableContent.settings.tableColumns[index].colSize]\">{{element}}</th>\n                    <td v-if=\"index !=0\" :key=\"JSON.stringify(element)\" v-bind:class=\"[tableContent.settings.tableColumns[index].align, tableContent.settings.tableColumns[index].color, tableContent.settings.tableColumns[index].weight, tableContent.settings.tableColumns[index].colSize]\">\n                        <template v-if=\"!isLink(tableContent.settings.tableColumns[index])\">\n                            {{element}}\n                        </template>\n                        <template v-else>\n                            <a v-bind:href=\"tableContent.settings.tableColumns[index].hrefPrefix + element.href + tableContent.settings.tableColumns[index].hrefSuffix\" v-bind:title=\"tableContent.settings.tableColumns[index].titlePrefix + element.title + tableContent.settings.tableColumns[index].titleSuffix\">{{tableContent.settings.tableColumns[index].textPrefix}}{{element.text}}{{tableContent.settings.tableColumns[index].textSuffix}}</a>\n                        </template>\n                    </td>\n                </template>\n\n            </tr>\n    </tbody>\n</table>\n</template>\n\n<script>\nexport default {\n    name: 'TableElement',\n    props: {\n        fetchLink: { type: String, required: true },\n        tableColumns: {type: Object, required: true},\n        tableClasses: { type: String, required: true },\n    },\n    data() {\n        // Api Specification\n        // https://gitlab.com/inno24/web-client/-/wikis/Components/Table\n        return {\n            tableContent: {\n                loaded: false,\n                fetchedData: {},\n                result: [],\n                settings: {\n                    tableColumns: this.tableColumns,\n                    tableClasses: this.tableClasses,\n                }\n                \n            }\n        }\n    },\n    methods: {\n        // Check if the given field is a string or a link object\n        isLink(element) {\n            if (element.isLink){\n                return true;\n            }\n            return false;\n        },\n\n        getList(){\n            const thisComponent = this;\n            fetch(this.fetchLink)\n                .then(function(response) {\n                    return response.json();\n                })\n                .then(function(data) {\n                    thisComponent.tableContent.fetchedData = data;\n                    var fetchedData = thisComponent.tableContent.fetchedData;\n                    for (var index in fetchedData.entry){\n                        \n                        var row = [];\n                        for (var column of thisComponent.tableContent.settings.tableColumns){\n                            if(!column.isLink){\n                                row.push( thisComponent.getInObject( fetchedData.entry[index], column.path));\n                            } else {\n\n                                var titleValue = null;\n                                var hrefValue = null;\n                                var textValue = null;\n\n                                if(typeof column.titlePath !== 'undefined'){\n                                    titleValue = thisComponent.getInObject( fetchedData.entry[index], column.titlePath)\n                                }\n                                if(typeof column.hrefPath !== 'undefined'){\n                                    hrefValue = thisComponent.getInObject( fetchedData.entry[index], column.hrefPath)\n                                }\n                                if(typeof column.textPath !== 'undefined'){\n                                    textValue = thisComponent.getInObject( fetchedData.entry[index], column.textPath)\n                                }\n\n                                var link = {\n                                    title: titleValue,\n                                    href: hrefValue,\n                                    text: textValue,\n                                }\n                                row.push(link);\n                            }\n                            \n                        }\n                        \n                        thisComponent.tableContent.result.push(row);\n                    }\n                    \n                    thisComponent.tableContent.loaded = true;\n                    \n                })\n                .catch(function(error) {\n                    console.error(error);\n                });\n            \n        },\n\n        getInObject(obj, path, def) {\n            /**\n            * If the path is a string, convert it to an array\n            * @param  {String|Array} path The path\n            * @return {Array}             The path array\n            */\n            var stringToPath = function (path) {\n                // If the path isn't a string, return it\n                if (typeof path !== 'string'){\n                    return path;\n                }\n\n                if (path.startsWith(\"_\")){\n                    def = path.substring(1)\n                    return def;\n                } \n                // Create new array\n                var output = [];\n\n                // Split to an array with dot notation\n                path.split('.').forEach(function (item) {\n\n                    // Split to an array with bracket notation\n                    item.split(/\\[([^}]+)\\]/g).forEach(function (key) {\n\n                        // Push to the new array\n                        if (key.length > 0) {\n                            output.push(key);\n                        }\n\n                    });\n\n                });\n\n                return output;\n            };\n\n            // Get the path as an array\n            path = stringToPath(path);\n\n            // Cache the current object\n            var current = obj;\n\n            // For each item in the path, dig into the object\n            for (var i = 0; i < path.length; i++) {\n\n                // If the item isn't found, return the default (or null)\n                if (!current[path[i]]) return def;\n\n                // Otherwise, update the current  value\n                current = current[path[i]];\n\n            }\n\n            return current;\n\n        },\n\n    },\n    beforeMount(){\n        console.log(this.tableContent)\n        this.getList()\n    },\n    mounted() {\n        \n    },\n}\n</script>\n\n<style scoped></style>","import { render } from \"./TableElement.vue?vue&type=template&id=c2dd9da8\"\nimport script from \"./TableElement.vue?vue&type=script&lang=js\"\nexport * from \"./TableElement.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/nero/FH-Folder/SS2024/LinkedCare/web-client-main/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport Table from '../components/table/TableElement.vue'\n\nexport default ({\n  name: \"Patienten\",\n  components: {\n    Table\n    },\n  setup() {\n  },\n})\n</script>\n\n\n<template>\n  <div class=\"patients\">\n    <Table \n        fetchLink = \"http://172.29.16.61/patients\"\n        tableClasses = \"text-start table-striped\"\n        v-bind:tableColumns = \"\n            [\n                {\n                    name: 'ID',\n                    field: 'id',\n                    path: 'resource.id',\n                    align: 'text-start',\n                    weight: 'fw-light'\n                },\n                {\n                    name: 'Vorname',\n                    field: 'vorname',\n                    path: 'resource.name[0].given[0]',\n                    align: 'text-start',\n                    color: 'text-primary',\n                    weight: 'fw-bold'\n                },\n                {\n                    name: 'Nachname',\n                    field: 'nachname',\n                    path: 'resource.name[0].family',\n                },\n                {\n                    name: 'Geschlecht',\n                    field: 'geschlecht',\n                    path: 'resource.gender',\n                    align: 'text-center',\n                    color: 'text-secondary',\n                },\n                {\n                    name: 'Geburtsdatum',\n                    field: 'geburtsdatum',\n                    path: 'resource.birthDate',\n                    color: 'text-secondary',\n                },\n                {\n                    name: 'Telefonnummer',\n                    field: 'telefonnummer',\n                    path: 'resource.telecom[0].value',\n                    color: 'text-secondary',\n                }\n            ]\"\n    />\n  </div>\n</template>\n","import { render } from \"./Patients.vue?vue&type=template&id=3a20da9e\"\nimport script from \"./Patients.vue?vue&type=script&lang=js\"\nexport * from \"./Patients.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/nero/FH-Folder/SS2024/LinkedCare/web-client-main/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}