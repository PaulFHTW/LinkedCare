(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ecaa67c0"],{"92b8":function(e,t,a){"use strict";a("de28")},a55b:function(e,t,a){"use strict";a.r(t);var s=a("7a23");const o=e=>(Object(s["w"])("data-v-061aa216"),e=e(),Object(s["u"])(),e),i={class:"login"},n=o(()=>Object(s["g"])("h1",{class:"h3 mb-5 fw-normal"},"Please sign in",-1)),l={class:"form-floating"},r=o(()=>Object(s["g"])("label",{for:"inputEmail"},"Email address",-1)),c={class:"form-floating mb-3"},d=o(()=>Object(s["g"])("label",{for:"inputPassword"},"Password",-1)),b=o(()=>Object(s["g"])("button",{class:"w-100 btn btn-lg btn-primary mb-3",type:"submit"},"Sign in",-1)),g={key:0};function m(e,t,a,o,m,p){return Object(s["t"])(),Object(s["f"])("div",i,[Object(s["g"])("form",{onSubmit:t[2]||(t[2]=Object(s["L"])((...e)=>p.validateForm&&p.validateForm(...e),["prevent"]))},[n,Object(s["g"])("div",l,[Object(s["J"])(Object(s["g"])("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>m.loginData.email=e),class:"form-control",id:"inputEmail",placeholder:"name@example.com"},null,512),[[s["G"],m.loginData.email]]),r]),Object(s["g"])("div",c,[Object(s["J"])(Object(s["g"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>m.loginData.password=e),class:"form-control",id:"inputPassword",placeholder:"Password"},null,512),[[s["G"],m.loginData.password]]),d]),b,m.errorMsg.length?(Object(s["t"])(),Object(s["f"])("div",g,[Object(s["g"])("ul",null,[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["z"])(m.errorMsg,(e,t)=>(Object(s["t"])(),Object(s["f"])("li",{key:t},Object(s["E"])(e),1))),128))])])):Object(s["e"])("",!0)],32)])}a("14d9");var p={data(){return{loginData:{email:"",password:""},errorMsg:[]}},methods:{validateForm(){this.errorMsg=[],""!=this.loginData.email&&null!=this.loginData.email||this.errorMsg.push("Bitte geben Sie Ihre Email-Adresse an!"),""!=this.loginData.password&&null!=this.loginData.password||this.errorMsg.push("Bitte geben Sie Ihr Passwort ein!"),this.errorMsg.length||this.loginUser()},loginUser(){fetch(this.$baseApiUrl+"/login",{method:"POST",headers:{"content-type":"application/json"},credentials:"include",body:JSON.stringify({username:this.loginData.email,password:this.loginData.password})}).then(e=>e.json()).then(e=>{console.log(e);var t=0;switch(e.role){case"clinic":t=1;break;case"physician":t=2;break;case"patient":t=3;break;case"pharmacy":t=4;break}let a={email:e.username,id:e.associatedId,role:t};console.log(a),localStorage.setItem("loggedIn",!0),localStorage.setItem("user",JSON.stringify(a)),console.info("[Info] User logged in"),window.location.href="/"})}}},u=(a("92b8"),a("6b0d")),h=a.n(u);const O=h()(p,[["render",m],["__scopeId","data-v-061aa216"]]);t["default"]=O},de28:function(e,t,a){}}]);
//# sourceMappingURL=chunk-ecaa67c0.ffd37e8d.js.map