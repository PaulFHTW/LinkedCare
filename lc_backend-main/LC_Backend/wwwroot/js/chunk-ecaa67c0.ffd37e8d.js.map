{"version":3,"sources":["webpack:///./src/views/Login.vue?e3b4","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?a459"],"names":["class","_createElementVNode","for","type","_createElementBlock","_hoisted_1","onSubmit","$options","_hoisted_2","_hoisted_3","$data","email","id","placeholder","_hoisted_4","_hoisted_5","password","_hoisted_6","_hoisted_7","length","_Fragment","error","index","key","data","loginData","errorMsg","methods","validateForm","this","push","loginUser","fetch","$baseApiUrl","method","headers","credentials","body","JSON","stringify","username","then","response","json","console","log","role","user","associatedId","localStorage","setItem","info","window","location","href","__exports__","render"],"mappings":"kHAAA,W,oICCSA,MAAM,S,QAEHC,eAAiD,MAA7CD,MAAM,qBAAoB,kBAAc,I,GAEvCA,MAAM,iB,QAGPC,eAA6C,SAAtCC,IAAI,cAAa,iBAAa,I,GAEpCF,MAAM,sB,QAGPC,eAA2C,SAApCC,IAAI,iBAAgB,YAAQ,I,QAEvCD,eAAgF,UAAxED,MAAM,oCAAoCG,KAAK,UAAS,WAAO,I,0DAd/EC,eAsBM,MAtBNC,EAsBM,CArBFJ,eAoBO,QApBAK,SAAM,mCAAUC,qCAAY,e,CAC/BC,EAEAP,eAIM,MAJNQ,EAIM,gBAHFR,eACmC,SAD5BE,KAAK,Q,qCAAgBO,YAAUC,MAAK,GAACX,MAAM,eAAeY,GAAG,aAChEC,YAAY,oB,mBADYH,YAAUC,SAEtCG,IAEJb,eAIM,MAJNc,EAIM,gBAHFd,eAC2B,SADpBE,KAAK,W,qCAAmBO,YAAUM,SAAQ,GAAChB,MAAM,eAAeY,GAAG,gBACtEC,YAAY,Y,mBADeH,YAAUM,YAEzCC,IAEJC,EAEWR,WAASS,QAAM,iBAA1Bf,eAIM,SAHFH,eAEK,+BADDG,eAAoEgB,2BAAvCV,WAAQ,CAAzBW,EAAOC,K,iBAAnBlB,eAAoE,MAA5BmB,IAAKD,GAAK,eAAKD,GAAK,K,sDAQjE,GACXG,OACI,MAAO,CACHC,UAAW,CACPd,MAAO,GACPK,SAAU,IAEdU,SAAU,KAGlBC,QAAS,CACLC,eACIC,KAAKH,SAAW,GACY,IAAxBG,KAAKJ,UAAUd,OAAuC,MAAxBkB,KAAKJ,UAAUd,OAC7CkB,KAAKH,SAASI,KAAK,0CAGQ,IAA3BD,KAAKJ,UAAUT,UAA6C,MAA3Ba,KAAKJ,UAAUT,UAChDa,KAAKH,SAASI,KAAK,qCAGlBD,KAAKH,SAASP,QACfU,KAAKE,aAGbA,YACIC,MAASH,KAAKI,YAAP,SAA4B,CAC/BC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,YAAa,UACbC,KAAMC,KAAKC,UAAU,CAAEC,SAAUX,KAAKJ,UAAUd,MAAOK,SAAUa,KAAKJ,UAAUT,aAG/EyB,KAAMC,GAAaA,EAASC,QAC5BF,KAAMjB,IACHoB,QAAQC,IAAIrB,GACZ,IAAIsB,EAAO,EAEX,OAAQtB,EAAKsB,MACT,IAAK,SACDA,EAAO,EACP,MACJ,IAAK,YACDA,EAAO,EACP,MACJ,IAAK,UACDA,EAAO,EACP,MACJ,IAAK,WACDA,EAAO,EACP,MAGR,IAAIC,EAAO,CACPpC,MAAOa,EAAKgB,SACZ5B,GAAIY,EAAKwB,aACTF,KAAMA,GAEVF,QAAQC,IAAIE,GACZE,aAAaC,QAAQ,YAAY,GACjCD,aAAaC,QAAQ,OAAQZ,KAAKC,UAAUQ,IAC5CH,QAAQO,KAAK,yBACbC,OAAOC,SAASC,KAAO,S,iCClF3C,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB","file":"js/chunk-ecaa67c0.ffd37e8d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Login.vue?vue&type=style&index=0&id=061aa216&scoped=true&lang=css\"","<template>\r\n    <div class=\"login\">\r\n        <form @submit.prevent=\"validateForm\">\r\n            <h1 class=\"h3 mb-5 fw-normal\">Please sign in</h1>\r\n\r\n            <div class=\"form-floating\">\r\n                <input type=\"email\" v-model=loginData.email class=\"form-control\" id=\"inputEmail\"\r\n                    placeholder=\"name@example.com\">\r\n                <label for=\"inputEmail\">Email address</label>\r\n            </div>\r\n            <div class=\"form-floating mb-3\">\r\n                <input type=\"password\" v-model=loginData.password class=\"form-control\" id=\"inputPassword\"\r\n                    placeholder=\"Password\">\r\n                <label for=\"inputPassword\">Password</label>\r\n            </div>\r\n            <button class=\"w-100 btn btn-lg btn-primary mb-3\" type=\"submit\">Sign in</button>\r\n\r\n            <div v-if=\"errorMsg.length\">\r\n                <ul>\r\n                    <li v-for=\"(error, index) in errorMsg\" :key=\"index\">{{ error }}</li>\r\n                </ul>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            loginData: {\r\n                email: \"\",\r\n                password: \"\",\r\n            },\r\n            errorMsg: []\r\n        }\r\n    },\r\n    methods: {\r\n        validateForm() {\r\n            this.errorMsg = [];\r\n            if (this.loginData.email == \"\" || this.loginData.email == null) {\r\n                this.errorMsg.push(\"Bitte geben Sie Ihre Email-Adresse an!\");\r\n            }\r\n\r\n            if (this.loginData.password == \"\" || this.loginData.password == null) {\r\n                this.errorMsg.push(\"Bitte geben Sie Ihr Passwort ein!\");\r\n            }\r\n\r\n            if (!this.errorMsg.length) {\r\n                this.loginUser();\r\n            }\r\n        },\r\n        loginUser() {\r\n            fetch(`${this.$baseApiUrl}/login`, {\r\n                method: 'POST',\r\n                headers: { \"content-type\": \"application/json\" },\r\n                credentials: 'include',\r\n                body: JSON.stringify({ username: this.loginData.email, password: this.loginData.password })\r\n            }\r\n            )\r\n                .then((response) => response.json())\r\n                .then((data) => {\r\n                    console.log(data)\r\n                    var role = 0;\r\n\r\n                    switch (data.role) {\r\n                        case \"clinic\":\r\n                            role = 1;\r\n                            break;\r\n                        case \"physician\":\r\n                            role = 2;\r\n                            break;\r\n                        case \"patient\":\r\n                            role = 3\r\n                            break;\r\n                        case \"pharmacy\":\r\n                            role = 4;\r\n                            break;\r\n                    }\r\n\r\n                    let user = {\r\n                        email: data.username,\r\n                        id: data.associatedId,\r\n                        role: role,\r\n                    }\r\n                    console.log(user)\r\n                    localStorage.setItem(\"loggedIn\", true);\r\n                    localStorage.setItem(\"user\", JSON.stringify(user));\r\n                    console.info(\"[Info] User logged in\")\r\n                    window.location.href = '/';\r\n                })\r\n        }\r\n    }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.login {\r\n    width: 100%;\r\n    max-width: 330px;\r\n    padding: 15px;\r\n    margin: auto;\r\n}\r\n\r\nul {\r\n    text-align: left;\r\n    list-style-type: none;\r\n    margin: 0;\r\n    padding: 0;\r\n    color: rgb(192, 34, 34);\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=061aa216&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=061aa216&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Dev\\\\Web\\\\FHTW-INNO-LinkedCareWebClient\\\\web-client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-061aa216\"]])\n\nexport default __exports__"],"sourceRoot":""}