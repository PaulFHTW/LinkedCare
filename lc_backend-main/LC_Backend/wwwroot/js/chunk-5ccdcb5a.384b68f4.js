(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ccdcb5a"],{"7d1c":function(e,t,i){"use strict";i.r(t);var s=i("7a23");const c=e=>(Object(s["w"])("data-v-ab3bed0a"),e=e(),Object(s["u"])(),e),o={class:"card w-75"},a={class:"card-header"},n={class:"list-group list-group-flash"},r={class:"list-group-item"},l={key:0},d={class:"form-group row"},g=c(()=>Object(s["g"])("div",{class:"col-md-3"},[Object(s["g"])("b",null,"Geburtstag")],-1)),p={class:"col-md-9"},m={class:"form-group row"},u=c(()=>Object(s["g"])("div",{class:"col-md-3"},[Object(s["g"])("b",null,"Geschlecht")],-1)),b={class:"col-md-9"},h={class:"form-group row"},j=c(()=>Object(s["g"])("div",{class:"col-md-3"},[Object(s["g"])("b",null,"Tel. Nr.")],-1)),y={class:"col-md-9"},O={class:"form-group row"},v=c(()=>Object(s["g"])("div",{class:"col-md-3"},[Object(s["g"])("b",null,"Adresse")],-1)),f={class:"col-md-9"},P=["onUpdate:modelValue"],w={class:"list-group-item"};function x(e,t,i,c,x,E){return Object(s["t"])(),Object(s["f"])("div",o,[Object(s["g"])("div",a,[Object(s["g"])("h2",null,Object(s["E"])(x.composition.title),1),Object(s["g"])("p",null,Object(s["E"])(x.composition.date),1)]),Object(s["g"])("ul",n,[Object(s["g"])("li",r,[null!=x.patient.id&&null!=x.patient.name[0]?(Object(s["t"])(),Object(s["f"])("div",l,[Object(s["g"])("h5",null,Object(s["E"])(x.patient.name[0].given+" "+x.patient.name[0].family),1),Object(s["g"])("div",d,[g,Object(s["g"])("div",p,Object(s["E"])(x.patient.birthDate),1)]),Object(s["g"])("div",m,[u,Object(s["g"])("div",b,Object(s["E"])(x.patient.gender),1)]),Object(s["g"])("div",h,[j,Object(s["g"])("div",y,Object(s["E"])(x.patient.telecom[0].value),1)]),Object(s["g"])("div",O,[v,Object(s["g"])("div",f,Object(s["E"])(x.patient.address[0].line[0]+", "+x.patient.address[0].city),1)])])):Object(s["e"])("",!0)]),(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["z"])(x.composition.section,e=>(Object(s["t"])(),Object(s["f"])("li",{key:e,class:"list-group-item"},[Object(s["g"])("h5",null,Object(s["E"])(e.title),1),Object(s["J"])(Object(s["g"])("textarea",{"onUpdate:modelValue":t=>e.text.div=t,class:"form-control"},null,8,P),[[s["G"],e.text.div]])]))),128)),Object(s["g"])("li",w,[Object(s["g"])("button",{class:"btn btn-success",onClick:t[0]||(t[0]=(...e)=>E.submitDischargeSummary&&E.submitDischargeSummary(...e))},"Erstellen")])])])}i("14d9");var E={name:"CreateDischargeSummary",data(){return{patient:{},composition:{resourceType:"Composition",type:{coding:[{system:"http://loinc.org",code:"18842-5",display:"Discharge Summary"}],text:"Entlassungsbrief"},subject:{id:this.$route.params.id},date:new Date,author:[{id:this.$getUserId(),display:this.$getUserEmail()}],title:"Entlassungsbrief",section:[{title:"Aufnahmegrund",code:{coding:[{system:"http://loinc.org",code:"29299-5",display:"Reason for visit Narrative"}]},text:{div:""}},{title:"Diagnose bei Entlassung",code:{coding:[{system:"http://loinc.org",code:"78375-3",display:"Discharge diagnosis Narrative"}]},text:{div:""}},{title:"Durchgeführte Maßnahmen",code:{coding:[{system:"http://loinc.org",code:"8648-8",display:"Hospital course Narrative"}]},text:{div:""}},{title:"Empfohlene Medikation",code:{coding:[{system:"http://loinc.org",code:"75311-1",display:"Discharge medications Narrative"}]},text:{div:""}},{title:"Weitere empfohlene Maßnahmen",code:{coding:[{system:"http://loinc.org",code:"18776-5",display:"Plan of care"}]},text:{div:""}},{title:"Zusammenfassung des Aufenthalts",code:{coding:[{system:"http://loinc.org",code:"34105-7",display:"Hospital Discharge summary"}]},text:{div:""}},{title:"Allergien, Unverträglichkeiten und Risiken",code:{coding:[{system:"http://loinc.org",code:"48765-2",display:"Allergies"}]},text:{div:""}},{title:"Vitalparameter",code:{coding:[{system:"http://loinc.org",code:"8716-3",display:"Vital signs"}]},text:{div:""}},{title:"Anamnese",code:{coding:[{system:"http://loinc.org",code:"42347-5",display:"Admission diagnosis (narrative)"}]},text:{div:""}},{title:"Frühere Erkrankungen",code:{coding:[{system:"http://loinc.org",code:"47519-4",display:"History of Procedures Document"}]},text:{div:""}},{title:"Medikation bei Einweisung",code:{coding:[{system:"http://loinc.org",code:"42346-7",display:"Medications on admission (narrative)"}]},text:{div:""}}]},carePlan:{resourceType:"CarePlan",text:{status:"generated",div:"Care Plan"},subject:{id:this.$route.params.id},status:"active",intent:"order",category:[{text:"Prescription"}],description:"Prescription",activity:[]}}},beforeCreate(){this.$redirectNotAuthorizedToLogin([1]),fetch(this.$apiUrl+"/Patient/"+this.$route.params.id,{credentials:"include"}).then(e=>e.json()).then(e=>{this.patient=e,console.log(this.carePlan);let t={detail:{code:{coding:[{system:"http://snomed.info/sct",code:"16076005",display:"Prescription"}],text:"Prescription"},status:"not-started",reasonReference:[{id:""}],performer:[{id:this.patient.generalPractitioner[0].id}]}};this.carePlan.activity.push(t),console.log(this.carePlan)})},methods:{submitDischargeSummary(){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.composition),credentials:"include"};fetch(this.$apiUrl+"/Composition",e).then(async e=>{const t=await e.json();if(e.ok)null!=t&&(console.log(t),this.carePlan.activity[0].detail.reasonReference[0].id=t.id,this.createCarePlan());else{const i=t&&t.message||e.status;console.log(Promise.reject(i))}}).catch(e=>{console.error("Error",e)})},createCarePlan(){const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.carePlan),credentials:"include"};console.log("[INFO] Create carePlan"),fetch(this.$apiUrl+"/CarePlan",e).then(async e=>{const t=await e.json();if(e.ok)null!=t&&(console.log(t),window.location.href="/patient/"+this.$route.params.id);else{const i=t&&t.message||e.status;console.log(Promise.reject(i))}}).catch(e=>{console.error("Error",e)})}}},k=(i("ec61"),i("6b0d")),C=i.n(k);const D=C()(E,[["render",x],["__scopeId","data-v-ab3bed0a"]]);t["default"]=D},bf42:function(e,t,i){},ec61:function(e,t,i){"use strict";i("bf42")}}]);
//# sourceMappingURL=chunk-5ccdcb5a.384b68f4.js.map