(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d4f765b"],{"0f03":function(t,e,n){"use strict";var a=n("7a23");const l=["href","title"];function s(t,e,n,s,o,i){const c=Object(a["B"])("router-link"),r=Object(a["B"])("routerLink"),b=Object(a["B"])("paginate");return Object(a["t"])(),Object(a["f"])(a["a"],null,[Object(a["g"])("table",{class:Object(a["p"])(["table",o.tableContent.settings.tableClasses])},[Object(a["g"])("thead",null,[Object(a["g"])("tr",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(o.tableContent.settings.tableColumns,t=>(Object(a["t"])(),Object(a["f"])("th",{key:t.field,scope:"col",class:Object(a["p"])([t.align,t.colSize])},Object(a["E"])(t.name),3))),128))])]),Object(a["g"])("tbody",null,[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(o.tableContent.result,t=>(Object(a["t"])(),Object(a["f"])("tr",{key:t.id},[(Object(a["t"])(!0),Object(a["f"])(a["a"],null,Object(a["z"])(t,(t,e)=>(Object(a["t"])(),Object(a["f"])(a["a"],{key:JSON.stringify(t)},[0==e?(Object(a["t"])(),Object(a["f"])("th",{key:0,scope:"row",class:Object(a["p"])([o.tableContent.settings.tableColumns[e].align,o.tableContent.settings.tableColumns[e].color,o.tableContent.settings.tableColumns[e].weight,o.tableContent.settings.tableColumns[e].colSize])},[Object(a["i"])(c,{to:"/"+o.tableContent.settings.tableColumns[e].type+"/"+t},{default:Object(a["I"])(()=>[Object(a["h"])(Object(a["E"])(t),1)]),_:2},1032,["to"])],2)):Object(a["e"])("",!0),0!=e?(Object(a["t"])(),Object(a["f"])("td",{key:JSON.stringify(t),class:Object(a["p"])([o.tableContent.settings.tableColumns[e].align,o.tableContent.settings.tableColumns[e].color,o.tableContent.settings.tableColumns[e].weight,o.tableContent.settings.tableColumns[e].colSize])},[i.isLink(o.tableContent.settings.tableColumns[e])?(Object(a["t"])(),Object(a["f"])("a",{key:0,href:o.tableContent.settings.tableColumns[e].hrefPrefix+t.href+o.tableContent.settings.tableColumns[e].hrefSuffix,title:o.tableContent.settings.tableColumns[e].titlePrefix+t.title+o.tableContent.settings.tableColumns[e].titleSuffix},Object(a["E"])(o.tableContent.settings.tableColumns[e].textPrefix)+Object(a["E"])(t.text)+Object(a["E"])(o.tableContent.settings.tableColumns[e].textSuffix),9,l)):i.isRouter(o.tableContent.settings.tableColumns[e])&&null!=t.href?(Object(a["t"])(),Object(a["d"])(r,{key:1,class:"text-decoration-none notnull",to:o.tableContent.settings.tableColumns[e].hrefPrefix+t.href+o.tableContent.settings.tableColumns[e].hrefSuffix},{default:Object(a["I"])(()=>[Object(a["h"])(Object(a["E"])(o.tableContent.settings.tableColumns[e].textPrefix)+Object(a["E"])(t.text)+Object(a["E"])(o.tableContent.settings.tableColumns[e].textSuffix),1)]),_:2},1032,["to"])):i.isRouter(o.tableContent.settings.tableColumns[e])&&null==t.href?(Object(a["t"])(),Object(a["d"])(r,{key:2,class:"text-decoration-none null",to:o.tableContent.settings.tableColumns[e].nullHref},{default:Object(a["I"])(()=>[Object(a["h"])(Object(a["E"])(o.tableContent.settings.tableColumns[e].nullText),1)]),_:2},1032,["to"])):i.isDate(o.tableContent.settings.tableColumns[e])?(Object(a["t"])(),Object(a["f"])(a["a"],{key:3},[Object(a["h"])(Object(a["E"])(i.formatDate(t)),1)],64)):i.isExternalData(o.tableContent.settings.tableColumns[e])?(Object(a["t"])(),Object(a["f"])(a["a"],{key:4},[Object(a["h"])(Object(a["E"])(i.getExternalData(o.tableContent.settings.tableColumns[e],t)),1)],64)):(Object(a["t"])(),Object(a["f"])(a["a"],{key:5},[Object(a["h"])(Object(a["E"])(t),1)],64))],2)):Object(a["e"])("",!0)],64))),128))]))),128))])],2),1==n.pagination?(Object(a["t"])(),Object(a["d"])(b,{key:0,modelValue:o.page,"onUpdate:modelValue":e[0]||(e[0]=t=>o.page=t),"page-count":o.pageCount,"click-handler":i.clickCallback,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item"},null,8,["modelValue","page-count","click-handler"])):Object(a["e"])("",!0)],64)}n("14d9");var o=n("8857"),i={name:"TableElement",props:{fetchLink:{type:String,required:!0},tableColumns:{type:Object,required:!0},tableClasses:{type:String,required:!0},pagination:{type:Boolean,required:!1}},watch:{fetchLink:function(t,e){console.log("Prop changed: ",t," | was: ",e),this.getList()},page:function(t,e){console.log("value changed: ",t," | was: ",e),1==this.paginationUsed&&this.getList()}},data(){return{tableContent:{loaded:!1,fetchedData:{},result:[],settings:{tableColumns:this.tableColumns,tableClasses:this.tableClasses}},paginationUrl:"",paginationUsed:!1,page:1,pageCount:1}},components:{paginate:o["a"]},methods:{isLink(t){return!!t.isLink},isRouter(t){return!!t.isRouter},isDate(t){return!!t.isDate},isExternalData(t){return!!t.isExternalData},formatDate(t){const e=new Date(t).toLocaleDateString("de-AT",{day:"2-digit",month:"2-digit",year:"numeric"});return e},getList(){const t=this;t.fetchedData={},this.tableContent={loaded:!1,fetchedData:{},result:[],settings:{tableColumns:this.tableColumns,tableClasses:this.tableClasses}};var e="";if(1==this.pagination){var n;if(1!=this.paginationUsed)this.page=parseInt(null!==(n=this.$route.query.page)&&void 0!==n?n:1,10);e=`${t.fetchLink}?page=${this.page}`}else e=this.fetchLink;console.log("Url to fetch: "+e),fetch(e,{credentials:"include"}).then((function(t){return t})).then((function(t){return t.json()})).then((function(e){t.tableContent.fetchedData=e;var n=t.tableContent.fetchedData;for(var a in t.pageCount=Math.ceil(n.total/20),n.entry){var l=[];for(var s of t.tableContent.settings.tableColumns)if(s.isLink||s.isRouter){var o=null,i=null,c=null;"undefined"!==typeof s.titlePath&&(o=t.getInObject(n.entry[a],s.titlePath)),"undefined"!==typeof s.hrefPath&&(i=t.getInObject(n.entry[a],s.hrefPath)),"undefined"!==typeof s.textPath&&(c=t.getInObject(n.entry[a],s.textPath));var r={title:o,href:i,text:c};console.log(r),l.push(r)}else l.push(t.getInObject(n.entry[a],s.path));t.tableContent.result.push(l)}t.tableContent.loaded=!0})).catch((function(t){console.error(t)}))},getExternalData(t,e){if(null==t.data)return console.log("[ERROR] no data passed to collumn "+t.name),"";console.log(t.data);for(const n in t.data)if(console.log(`[INFO] is dataElement.key == element: ${t.data[n].key} =? ${e}`),t.data[n].key==e)return t.data[n].value;return console.log(`[WARNING] data missing in collumn ${t.name} for element ${e}`),"no data"},getInObject(t,e,n){var a=function(t){if("string"!==typeof t)return t;if(t.startsWith("_"))return n=t.substring(1),n;var e=[];return t.split(".").forEach((function(t){t.split(/\[([^}]+)\]/g).forEach((function(t){t.length>0&&e.push(t)}))})),e};e=a(e);for(var l=t,s=0;s<e.length;s++){if(!l[e[s]])return n;l=l[e[s]]}return l},clickCallback:function(t){console.log(t),this.paginationUsed=!0,this.$router.push("patients?page="+t)}},beforeMount(){this.getList(),console.log(this.tableContent)},mounted(){}},c=(n("a4b5"),n("6b0d")),r=n.n(c);const b=r()(i,[["render",s],["__scopeId","data-v-222e8c2c"]]);e["a"]=b},"48db":function(t,e,n){},a474:function(t,e,n){"use strict";n.r(e);var a=n("7a23");const l={class:"patients table-responsive"};function s(t,e,n,s,o,i){const c=Object(a["B"])("Table");return Object(a["t"])(),Object(a["f"])("div",l,[Object(a["i"])(c,{pagination:!0,fetchLink:o.patientsUrl,tableClasses:"text-start table-striped",tableColumns:[{name:"ID",field:"id",path:"resource.id",align:"text-start",weight:"fw-light",type:"patient"},{name:"Vorname",field:"vorname",path:"resource.name[0].given[0]",align:"text-start",color:"text-primary",weight:"fw-bold"},{name:"Nachname",field:"nachname",path:"resource.name[0].family"},{name:"Geschlecht",field:"geschlecht",path:"resource.gender",align:"text-center",color:"text-secondary"},{name:"Geburtsdatum",field:"geburtsdatum",path:"resource.birthDate",color:"text-secondary",isDate:!0},{name:"Telefonnummer",field:"telefonnummer",path:"resource.telecom[0].value",color:"text-secondary"}]},null,8,["fetchLink","tableColumns"])])}var o=n("0f03"),i={name:"Patienten",data(){return{patientsUrl:this.$apiUrl+"/Patient"}},components:{Table:o["a"]},beforeCreate(){this.$redirectNotAuthorizedToLogin([1,2,4])}},c=n("6b0d"),r=n.n(c);const b=r()(i,[["render",s]]);e["default"]=b},a4b5:function(t,e,n){"use strict";n("48db")}}]);
//# sourceMappingURL=chunk-1d4f765b.43414890.js.map